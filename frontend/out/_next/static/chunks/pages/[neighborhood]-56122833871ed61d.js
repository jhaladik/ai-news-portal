(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{6548:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/[neighborhood]",function(){return s(1860)}])},1860:function(e,t,s){"use strict";s.r(t),s.d(t,{__N_SSG:function(){return c},default:function(){return NewsPage}});var a=s(5893),n=s(9008),r=s.n(n),l=s(7294),c=!0;function NewsPage(e){let{neighborhood:t,neighborhoodName:s}=e,[n,c]=(0,l.useState)([]),[i,d]=(0,l.useState)(!0),[o,x]=(0,l.useState)("all"),[u,h]=(0,l.useState)(""),[m,g]=(0,l.useState)("");(0,l.useEffect)(()=>{let loadArticles=async()=>{try{let e=await fetch("".concat("https://content-list.jhaladik.workers.dev","/?neighborhood=").concat(t,"&status=published")),s=await e.json();c(s.articles||[])}catch(e){console.error("Error loading articles:",e),c([{id:"demo-1",title:"V\xedtejte v AI News Portal!",content:"V\xe1š hyperlocal news syst\xe9m je nasazen a funkčn\xed. Micro-workers jsou připojen\xe9 a zpracov\xe1vaj\xed požadavky.",category:"local",neighborhood:{id:t,name:s},ai_confidence:.95,created_at:Date.now(),published_at:Date.now()}])}finally{d(!1)}};loadArticles()},[t,s]);let p="all"===o?n:n.filter(e=>e.category===o),handleNewsletterSignup=async e=>{e.preventDefault();try{let e=await fetch("https://newsletter-signup.jhaladik.workers.dev",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:u,neighborhood_id:t})}),s=await e.json();s.success?(g("success"),h("")):g(s.error||"Signup failed")}catch(e){g("Network error")}},getCategoryIcon=e=>{switch(e){case"emergency":return"\uD83D\uDEA8";case"local":return"\uD83D\uDCCD";case"business":return"\uD83C\uDFEA";case"community":return"\uD83E\uDD1D";default:return"\uD83D\uDCF0"}},getCategoryColor=e=>{switch(e){case"emergency":return"bg-red-100 border-red-500 text-red-800";case"local":return"bg-blue-100 border-blue-500 text-blue-800";case"business":return"bg-green-100 border-green-500 text-green-800";case"community":return"bg-yellow-100 border-yellow-500 text-yellow-800";default:return"bg-gray-100 border-gray-500 text-gray-800"}};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(r(),{children:[(0,a.jsx)("title",{children:"M\xedstn\xed Zpr\xe1vy - ".concat(s)}),(0,a.jsx)("meta",{name:"description",content:"Denn\xed zpr\xe1vy z ".concat(s)})]}),(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)("header",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white",children:(0,a.jsx)("div",{className:"container mx-auto px-4 py-6",children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold",children:"\uD83D\uDCF0 M\xedstn\xed Zpr\xe1vy"}),(0,a.jsxs)("p",{className:"text-blue-200",children:["Denn\xed zpravodajstv\xed z ",s]})]}),(0,a.jsx)("div",{className:"text-right",children:(0,a.jsx)("p",{className:"text-sm opacity-90",children:new Date().toLocaleDateString("cs-CZ",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})})]})})}),(0,a.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,a.jsxs)("div",{className:"lg:col-span-2",children:[(0,a.jsx)("div",{className:"mb-6",children:(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:["all","emergency","local","business","community"].map(e=>(0,a.jsx)("button",{onClick:()=>x(e),className:"px-4 py-2 rounded-full text-sm font-medium transition-colors ".concat(o===e?"bg-blue-600 text-white":"bg-white text-gray-600 hover:bg-blue-50"),children:"all"===e?"\uD83D\uDCF0 Vše":"".concat(getCategoryIcon(e)," ").concat(e)},e))})}),i?(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-500",children:"Nač\xedt\xe1n\xed čl\xe1nků..."})]}):(0,a.jsx)("div",{className:"space-y-6",children:0===p.length?(0,a.jsx)("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:(0,a.jsx)("p",{className:"text-gray-500",children:"Ž\xe1dn\xe9 čl\xe1nky zat\xedm nebyly publikov\xe1ny."})}):p.map(e=>(0,a.jsx)("article",{className:"bg-white rounded-lg shadow hover:shadow-md transition-shadow",children:(0,a.jsxs)("div",{className:"p-6 border-l-4 ".concat(getCategoryColor(e.category)),children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,a.jsx)("span",{className:"text-lg",children:getCategoryIcon(e.category)}),(0,a.jsx)("span",{className:"text-sm font-medium uppercase tracking-wide text-gray-500",children:e.category}),e.ai_confidence&&e.ai_confidence>.8&&(0,a.jsx)("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded",children:"\uD83E\uDD16 AI Ověřeno"})]}),(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-3",children:e.title}),(0,a.jsx)("div",{className:"prose prose-sm max-w-none text-gray-700 mb-4",children:e.content.split("\n").map((e,t)=>(0,a.jsx)("p",{className:"mb-2",children:e},t))}),(0,a.jsxs)("div",{className:"text-xs text-gray-500",children:["Publikov\xe1no: ",new Date(e.published_at||e.created_at).toLocaleString("cs-CZ")]})]})},e.id))})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-gradient-to-br from-blue-600 to-purple-600 text-white p-6 rounded-lg",children:[(0,a.jsx)("h3",{className:"text-lg font-bold mb-2",children:"\uD83D\uDCE7 Denn\xed newsletter"}),(0,a.jsx)("p",{className:"text-blue-100 text-sm mb-4",children:"Dost\xe1vejte zpr\xe1vy každ\xe9 r\xe1no v 7:30"}),(0,a.jsxs)("form",{onSubmit:handleNewsletterSignup,className:"space-y-3",children:[(0,a.jsx)("input",{type:"email",value:u,onChange:e=>h(e.target.value),placeholder:"v\xe1š email",className:"w-full px-3 py-2 rounded text-gray-900 text-sm",required:!0}),(0,a.jsx)("button",{type:"submit",className:"w-full bg-gray-900 text-white py-2 px-4 rounded font-medium hover:bg-gray-800 transition-colors",children:"Odeb\xedrat"})]}),m&&(0,a.jsx)("p",{className:"text-sm mt-2 ".concat("success"===m?"text-green-200":"text-red-200"),children:"success"===m?"✅ \xdaspěšně přihl\xe1šeno!":"❌ ".concat(m)})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,a.jsx)("h3",{className:"font-bold mb-4",children:"\uD83D\uDCCA Dnes"}),(0,a.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"Nov\xe9 čl\xe1nky:"}),(0,a.jsx)("span",{className:"font-medium",children:n.length})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"Emergency:"}),(0,a.jsx)("span",{className:"font-medium text-red-600",children:n.filter(e=>"emergency"===e.category).length})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"M\xedstn\xed zpr\xe1vy:"}),(0,a.jsx)("span",{className:"font-medium text-blue-600",children:n.filter(e=>"local"===e.category).length})]})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,a.jsx)("h3",{className:"font-bold mb-4",children:"\uD83D\uDD17 Užitečn\xe9 odkazy"}),(0,a.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,a.jsx)("a",{href:"#",className:"block text-blue-600 hover:text-blue-800",children:"\uD83D\uDE8C Doprava MHD"}),(0,a.jsx)("a",{href:"#",className:"block text-blue-600 hover:text-blue-800",children:"\uD83C\uDFE5 Pohotovost"}),(0,a.jsx)("a",{href:"#",className:"block text-blue-600 hover:text-blue-800",children:"\uD83D\uDCDE \xdařad Prahy 2"}),(0,a.jsx)("a",{href:"#",className:"block text-blue-600 hover:text-blue-800",children:"\uD83D\uDE93 Policie"})]})]})]})]})})]})]})}},9008:function(e,t,s){e.exports=s(9201)}},function(e){e.O(0,[774,888,179],function(){return e(e.s=6548)}),_N_E=e.O()}]);