(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{6548:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/[neighborhood]",function(){return a(1514)}])},1770:function(e,t,a){"use strict";a.d(t,{Z:function(){return l}});var s=a(5893),n=a(7294);function l(e){let{id:t,title:a,content:l,category:r,neighborhood:i,ai_confidence:d=0,created_by:o="",created_at:c,published_at:u,status:x,showAIBadge:h=!0,showActions:m=!1,onApprove:b,onReject:g}=e,[v,p]=(0,n.useState)(!1),j=(null==o?void 0:o.includes("ai"))||d>0,y=l.length>300,f=v||!y?l:l.substring(0,300)+"...";return(0,s.jsxs)("article",{className:"bg-white rounded-lg shadow-md p-6 border border-gray-200",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:a}),(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-2 mb-3",children:[(0,s.jsx)("span",{className:"px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded border",children:r}),(0,s.jsxs)("span",{className:"px-2 py-1 text-xs bg-gray-100 text-gray-600 rounded border",children:["\uD83D\uDCCD ",i]}),j&&h&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"px-2 py-1 text-xs bg-blue-50 text-blue-700 rounded border font-medium",children:"\uD83E\uDD16 AI"}),d>0&&(0,s.jsxs)("span",{className:"px-2 py-1 text-xs rounded border ".concat(d>=.8?"text-green-600 bg-green-50":d>=.6?"text-yellow-600 bg-yellow-50":"text-red-600 bg-red-50"),children:[(100*d).toFixed(0),"% důvěra"]})]})]})]}),m&&(b||g)&&(0,s.jsxs)("div",{className:"flex gap-2 ml-4",children:[b&&(0,s.jsx)("button",{onClick:()=>b(t),className:"px-3 py-1 bg-green-600 text-white text-sm rounded hover:bg-green-700",children:"✅"}),g&&(0,s.jsx)("button",{onClick:()=>g(t),className:"px-3 py-1 bg-red-600 text-white text-sm rounded hover:bg-red-700",children:"❌"})]})]}),(0,s.jsxs)("div",{className:"text-gray-600 mb-4",children:[(0,s.jsx)("p",{children:f}),y&&(0,s.jsx)("button",{onClick:()=>p(!v),className:"mt-2 text-blue-600 hover:text-blue-800 text-sm font-medium",children:v?"Zobrazit m\xe9ně ↑":"Zobrazit v\xedce ↓"})]}),(0,s.jsx)("div",{className:"flex items-center justify-between text-sm text-gray-500 border-t border-gray-100 pt-3",children:(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)("span",{className:"flex items-center gap-1",children:[j?"\uD83E\uDD16":"✍️",j?"AI":"Manu\xe1ln\xed"]}),(0,s.jsxs)("span",{children:["\uD83D\uDD52 ",new Date(u||c).toLocaleDateString("cs-CZ")]})]})})]})}},1514:function(e,t,a){"use strict";a.r(t),a.d(t,{__N_SSG:function(){return u},default:function(){return x}});var s=a(5893),n=a(9008),l=a.n(n),r=a(1664),i=a.n(r),d=a(1163),o=a(7294),c=a(1770),u=!0;function x(){let{neighborhood:e}=(0,d.useRouter)().query,[t,a]=(0,o.useState)([]),[n,r]=(0,o.useState)(null),[u,x]=(0,o.useState)(!0),[h,m]=(0,o.useState)("all"),[b,g]=(0,o.useState)("all");(0,o.useEffect)(()=>{e&&(async()=>{x(!0);try{let t=await fetch("".concat("https://content-list.jhaladik.workers.dev","/?neighborhood=").concat(e,"&status=published&limit=50"));if(t.ok){let e=await t.json();a((null==e?void 0:e.articles)||[]);let s=new Date().setHours(0,0,0,0),n=e.filter(e=>{var t;return(null===(t=e.created_by)||void 0===t?void 0:t.includes("ai"))||e.ai_confidence>0}),l=e.filter(e=>(e.published_at||e.created_at)>=s),i=n.length>0?n.reduce((e,t)=>e+(t.ai_confidence||0),0)/n.length:0;r({total_articles:e.length,ai_generated:n.length,published_today:l.length,avg_confidence:i,last_update:Date.now()})}else{let t=[{id:"demo-ai-1",title:"Aktu\xe1ln\xed počas\xed a dopravn\xed situace ve Vinohradech",content:"Dnes ve Vinohradech oček\xe1v\xe1me př\xedjemn\xe9 počas\xed s teplotami kolem 18\xb0C. Veřejn\xe1 doprava funguje bez v\xfdraznějš\xedch probl\xe9mů, všechny tramvajov\xe9 linky jezd\xed podle j\xedzdn\xedho ř\xe1du. Pro obyvatele čtvrti doporučujeme využ\xedt kr\xe1sn\xe9ho počas\xed k proch\xe1zce Riegrovy sady.",category:"local",neighborhood_id:e,ai_confidence:.87,created_by:"ai-generate-claude",created_at:Date.now()-36e5,published_at:Date.now()-36e5,status:"published"},{id:"demo-manual-1",title:"Nov\xe9 dětsk\xe9 hřiště v Riegrov\xfdch sadech",content:"Městsk\xe1 č\xe1st Praha 2 otevřela nov\xe9 modern\xed dětsk\xe9 hřiště v Riegrov\xfdch sadech. Hřiště nab\xedz\xed bezpečn\xe9 hern\xed prvky pro děti všech věkov\xfdch kategori\xed a je vybaveno nov\xfdmi lavičkami pro rodiče.",category:"community",neighborhood_id:e,ai_confidence:0,created_by:"admin",created_at:Date.now()-72e5,published_at:Date.now()-72e5,status:"published"}];a(t),r({total_articles:2,ai_generated:1,published_today:2,avg_confidence:.87,last_update:Date.now()})}}catch(e){}finally{x(!1)}})()},[e]);let v=(t||[]).filter(e=>{var t,a;return!("ai"===h&&!(null===(t=e.created_by)||void 0===t?void 0:t.includes("ai"))&&0===e.ai_confidence||"manual"===h&&((null===(a=e.created_by)||void 0===a?void 0:a.includes("ai"))||e.ai_confidence>0))&&("high-confidence"!==h||!(e.ai_confidence<.8))&&("all"===b||e.category===b)}),p=e=>({vinohrady:"Vinohrady",karlin:"Karl\xedn",smichov:"Sm\xedchov",zizkov:"Žižkov"})[e]||e,j=Array.from(new Set((t||[]).map(e=>e.category)));return e?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(l(),{children:[(0,s.jsxs)("title",{children:["M\xedstn\xed Zpr\xe1vy - ",p(e)]}),(0,s.jsx)("meta",{name:"description",content:"Aktu\xe1ln\xed zpr\xe1vy a informace z ".concat(p(e),", Praha")})]}),(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,s.jsx)("header",{className:"bg-white shadow",children:(0,s.jsxs)("div",{className:"container mx-auto px-4 py-6",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("h1",{className:"text-3xl font-bold text-gray-900",children:["\uD83D\uDCCD M\xedstn\xed Zpr\xe1vy - ",p(e)]}),(0,s.jsx)("p",{className:"text-gray-600 mt-1",children:"Aktu\xe1ln\xed informace z vaš\xed čtvrti"})]}),(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsx)(i(),{href:"/admin/dashboard",className:"px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-700",children:"\uD83D\uDCCB Admin"}),(0,s.jsx)(i(),{href:"/",className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"\uD83C\uDFE0 Domů"})]})]}),n&&(0,s.jsxs)("div",{className:"mt-6 grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,s.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:n.total_articles}),(0,s.jsx)("div",{className:"text-sm text-blue-700",children:"Celkem čl\xe1nků"})]}),(0,s.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-green-600",children:n.ai_generated}),(0,s.jsx)("div",{className:"text-sm text-green-700",children:"AI generovan\xe9"})]}),(0,s.jsxs)("div",{className:"bg-purple-50 p-4 rounded-lg border border-purple-200",children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:n.published_today}),(0,s.jsx)("div",{className:"text-sm text-purple-700",children:"Dnes publikov\xe1no"})]}),(0,s.jsxs)("div",{className:"bg-yellow-50 p-4 rounded-lg border border-yellow-200",children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-yellow-600",children:n.avg_confidence>0?(100*n.avg_confidence).toFixed(0)+"%":"N/A"}),(0,s.jsx)("div",{className:"text-sm text-yellow-700",children:"Průměrn\xe1 AI důvěra"})]})]})]})}),(0,s.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 mb-8",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"\uD83D\uDD0D Filtry obsahu"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Zdroj obsahu"}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:[{id:"all",label:"Vše",icon:"\uD83D\uDCF0"},{id:"ai",label:"AI generovan\xe9",icon:"\uD83E\uDD16"},{id:"manual",label:"Manu\xe1ln\xed",icon:"✍️"},{id:"high-confidence",label:"Vysok\xe1 AI důvěra",icon:"\uD83C\uDFAF"}].map(e=>(0,s.jsxs)("button",{onClick:()=>m(e.id),className:"px-3 py-2 rounded-lg text-sm font-medium transition-colors ".concat(h===e.id?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:[e.icon," ",e.label]},e.id))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Kategorie"}),(0,s.jsxs)("select",{value:b,onChange:e=>g(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,s.jsx)("option",{value:"all",children:"Všechny kategorie"}),j.map(e=>(0,s.jsx)("option",{value:e,children:"local"===e?"\uD83D\uDCCD M\xedstn\xed":"emergency"===e?"\uD83D\uDEA8 Nouzov\xe9":"weather"===e?"\uD83C\uDF24️ Počas\xed":"transport"===e?"\uD83D\uDE8C Doprava":"community"===e?"\uD83D\uDC65 Komunita":"business"===e?"\uD83D\uDCBC Business":e},e))]})]})]}),(0,s.jsxs)("div",{className:"mt-4 text-sm text-gray-600",children:["Zobrazeno: ",v.length," z ",t.length," čl\xe1nků"]})]}),u&&(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-gray-500",children:"Nač\xedt\xe1n\xed čl\xe1nků..."})]}),!u&&(0,s.jsx)(s.Fragment,{children:0===v.length?(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:[(0,s.jsx)("p",{className:"text-gray-500 mb-4",children:"all"===h?"Zat\xedm ž\xe1dn\xe9 čl\xe1nky pro tuto čtvrť.":"Ž\xe1dn\xe9 čl\xe1nky nevyhovuj\xed zvolen\xfdm filtrům."}),(0,s.jsx)(i(),{href:"/admin/ai-dashboard",className:"inline-block px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"\uD83E\uDD16 Generovat AI obsah"})]}):(0,s.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:v.map(e=>(0,s.jsx)(c.Z,{id:e.id,title:e.title,content:e.content,category:e.category,neighborhood:p(e.neighborhood_id),ai_confidence:e.ai_confidence,created_by:e.created_by,created_at:e.created_at,published_at:e.published_at,status:e.status,showAIBadge:!0,showActions:!1},e.id))})}),(0,s.jsxs)("div",{className:"mt-12 bg-gradient-to-r from-blue-50 to-blue-100 rounded-lg shadow p-8 text-center border border-blue-200",children:[(0,s.jsxs)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:["\uD83D\uDCE7 Odeb\xedrejte zpr\xe1vy z ",p(e)]}),(0,s.jsx)("p",{className:"text-gray-600 mb-6",children:"Z\xedsk\xe1vejte nejnovějš\xed informace ze sv\xe9 čtvrti př\xedmo do emailu. Kombinace AI generovan\xe9ho obsahu a manu\xe1lně vybran\xfdch novinek."}),(0,s.jsxs)("form",{className:"flex flex-col sm:flex-row gap-3 max-w-md mx-auto",children:[(0,s.jsx)("input",{type:"email",placeholder:"v\xe1š@email.cz",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0}),(0,s.jsx)("button",{type:"submit",className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"Odeb\xedrat"})]}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-3",children:"\uD83E\uDD16 Č\xe1st obsahu je generov\xe1na AI syst\xe9mem s lidskou kontrolou kvality"})]})]})]})]}):(0,s.jsx)("div",{children:"Loading..."})}},1163:function(e,t,a){e.exports=a(3079)}},function(e){e.O(0,[996,888,774,179],function(){return e(e.s=6548)}),_N_E=e.O()}]);