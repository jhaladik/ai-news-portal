(()=>{var e={};e.id=177,e.ids=[177,888,660],e.modules={2481:(e,t,s)=>{"use strict";s.r(t),s.d(t,{config:()=>y,default:()=>m,getServerSideProps:()=>b,getStaticPaths:()=>p,getStaticProps:()=>g,reportWebVitals:()=>j,routeModule:()=>S,unstable_getServerProps:()=>D,unstable_getServerSideProps:()=>w,unstable_getStaticParams:()=>f,unstable_getStaticPaths:()=>N,unstable_getStaticProps:()=>v});var a={};s.r(a),s.d(a,{default:()=>NewsPage,getStaticPaths:()=>getStaticPaths,getStaticProps:()=>getStaticProps});var r=s(7093),l=s(5244),n=s(1323),i=s(9209),c=s.n(i),d=s(5913),o=s(997),x=s(968),u=s.n(x),h=s(6689);function NewsPage({neighborhood:e,neighborhoodName:t}){let[s,a]=(0,h.useState)([]),[r,l]=(0,h.useState)(!0),[n,i]=(0,h.useState)("all"),[c,d]=(0,h.useState)(""),[x,m]=(0,h.useState)("");(0,h.useEffect)(()=>{let loadArticles=async()=>{try{let t=await fetch(`https://content-list.jhaladik.workers.dev/?neighborhood=${e}&status=published`),s=await t.json();a(s.articles||[])}catch(s){console.error("Error loading articles:",s),a([{id:"demo-1",title:"V\xedtejte v AI News Portal!",content:"V\xe1š hyperlocal news syst\xe9m je nasazen a funkčn\xed. Micro-workers jsou připojen\xe9 a zpracov\xe1vaj\xed požadavky.",category:"local",neighborhood:{id:e,name:t},ai_confidence:.95,created_at:Date.now(),published_at:Date.now()}])}finally{l(!1)}};loadArticles()},[e,t]);let g="all"===n?s:s.filter(e=>e.category===n),handleNewsletterSignup=async t=>{t.preventDefault();try{let t=await fetch("https://newsletter-signup.jhaladik.workers.dev",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:c,neighborhood_id:e})}),s=await t.json();s.success?(m("success"),d("")):m(s.error||"Signup failed")}catch(e){m("Network error")}},getCategoryIcon=e=>{switch(e){case"emergency":return"\uD83D\uDEA8";case"local":return"\uD83D\uDCCD";case"business":return"\uD83C\uDFEA";case"community":return"\uD83E\uDD1D";default:return"\uD83D\uDCF0"}},getCategoryColor=e=>{switch(e){case"emergency":return"bg-red-100 border-red-500 text-red-800";case"local":return"bg-blue-100 border-blue-500 text-blue-800";case"business":return"bg-green-100 border-green-500 text-green-800";case"community":return"bg-yellow-100 border-yellow-500 text-yellow-800";default:return"bg-gray-100 border-gray-500 text-gray-800"}};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(u(),{children:[o.jsx("title",{children:`M\xedstn\xed Zpr\xe1vy - ${t}`}),o.jsx("meta",{name:"description",content:`Denn\xed zpr\xe1vy z ${t}`})]}),(0,o.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[o.jsx("header",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white",children:o.jsx("div",{className:"container mx-auto px-4 py-6",children:(0,o.jsxs)("div",{className:"flex justify-between items-center",children:[(0,o.jsxs)("div",{children:[o.jsx("h1",{className:"text-3xl font-bold",children:"\uD83D\uDCF0 M\xedstn\xed Zpr\xe1vy"}),(0,o.jsxs)("p",{className:"text-blue-200",children:["Denn\xed zpravodajstv\xed z ",t]})]}),o.jsx("div",{className:"text-right",children:o.jsx("p",{className:"text-sm opacity-90",children:new Date().toLocaleDateString("cs-CZ",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})})]})})}),o.jsx("div",{className:"container mx-auto px-4 py-8",children:(0,o.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,o.jsxs)("div",{className:"lg:col-span-2",children:[o.jsx("div",{className:"mb-6",children:o.jsx("div",{className:"flex flex-wrap gap-2",children:["all","emergency","local","business","community"].map(e=>o.jsx("button",{onClick:()=>i(e),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors ${n===e?"bg-blue-600 text-white":"bg-white text-gray-600 hover:bg-blue-50"}`,children:"all"===e?"\uD83D\uDCF0 Vše":`${getCategoryIcon(e)} ${e}`},e))})}),r?(0,o.jsxs)("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-500",children:"Nač\xedt\xe1n\xed čl\xe1nků..."})]}):o.jsx("div",{className:"space-y-6",children:0===g.length?o.jsx("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:o.jsx("p",{className:"text-gray-500",children:"Ž\xe1dn\xe9 čl\xe1nky zat\xedm nebyly publikov\xe1ny."})}):g.map(e=>o.jsx("article",{className:"bg-white rounded-lg shadow hover:shadow-md transition-shadow",children:(0,o.jsxs)("div",{className:`p-6 border-l-4 ${getCategoryColor(e.category)}`,children:[(0,o.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[o.jsx("span",{className:"text-lg",children:getCategoryIcon(e.category)}),o.jsx("span",{className:"text-sm font-medium uppercase tracking-wide text-gray-500",children:e.category}),e.ai_confidence&&e.ai_confidence>.8&&o.jsx("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded",children:"\uD83E\uDD16 AI Ověřeno"})]}),o.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-3",children:e.title}),o.jsx("div",{className:"prose prose-sm max-w-none text-gray-700 mb-4",children:e.content.split("\n").map((e,t)=>o.jsx("p",{className:"mb-2",children:e},t))}),(0,o.jsxs)("div",{className:"text-xs text-gray-500",children:["Publikov\xe1no: ",new Date(e.published_at||e.created_at).toLocaleString("cs-CZ")]})]})},e.id))})]}),(0,o.jsxs)("div",{className:"space-y-6",children:[(0,o.jsxs)("div",{className:"bg-gradient-to-br from-blue-600 to-purple-600 text-white p-6 rounded-lg",children:[o.jsx("h3",{className:"text-lg font-bold mb-2",children:"\uD83D\uDCE7 Denn\xed newsletter"}),o.jsx("p",{className:"text-blue-100 text-sm mb-4",children:"Dost\xe1vejte zpr\xe1vy každ\xe9 r\xe1no v 7:30"}),(0,o.jsxs)("form",{onSubmit:handleNewsletterSignup,className:"space-y-3",children:[o.jsx("input",{type:"email",value:c,onChange:e=>d(e.target.value),placeholder:"v\xe1š email",className:"w-full px-3 py-2 rounded text-gray-900 text-sm",required:!0}),o.jsx("button",{type:"submit",className:"w-full bg-gray-900 text-white py-2 px-4 rounded font-medium hover:bg-gray-800 transition-colors",children:"Odeb\xedrat"})]}),x&&o.jsx("p",{className:`text-sm mt-2 ${"success"===x?"text-green-200":"text-red-200"}`,children:"success"===x?"✅ \xdaspěšně přihl\xe1šeno!":`❌ ${x}`})]}),(0,o.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[o.jsx("h3",{className:"font-bold mb-4",children:"\uD83D\uDCCA Dnes"}),(0,o.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,o.jsxs)("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Nov\xe9 čl\xe1nky:"}),o.jsx("span",{className:"font-medium",children:s.length})]}),(0,o.jsxs)("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Emergency:"}),o.jsx("span",{className:"font-medium text-red-600",children:s.filter(e=>"emergency"===e.category).length})]}),(0,o.jsxs)("div",{className:"flex justify-between",children:[o.jsx("span",{children:"M\xedstn\xed zpr\xe1vy:"}),o.jsx("span",{className:"font-medium text-blue-600",children:s.filter(e=>"local"===e.category).length})]})]})]}),(0,o.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[o.jsx("h3",{className:"font-bold mb-4",children:"\uD83D\uDD17 Užitečn\xe9 odkazy"}),(0,o.jsxs)("div",{className:"space-y-2 text-sm",children:[o.jsx("a",{href:"#",className:"block text-blue-600 hover:text-blue-800",children:"\uD83D\uDE8C Doprava MHD"}),o.jsx("a",{href:"#",className:"block text-blue-600 hover:text-blue-800",children:"\uD83C\uDFE5 Pohotovost"}),o.jsx("a",{href:"#",className:"block text-blue-600 hover:text-blue-800",children:"\uD83D\uDCDE \xdařad Prahy 2"}),o.jsx("a",{href:"#",className:"block text-blue-600 hover:text-blue-800",children:"\uD83D\uDE93 Policie"})]})]})]})]})})]})]})}let getStaticPaths=async()=>{let e=["vinohrady","karlin","smichov","zizkov"].map(e=>({params:{neighborhood:e}}));return{paths:e,fallback:!1}},getStaticProps=async({params:e})=>{let t=e?.neighborhood||"vinohrady";return{props:{neighborhood:t,neighborhoodName:({vinohrady:"Vinohrady",karlin:"Karl\xedn",smichov:"Sm\xedchov",zizkov:"Žižkov"})[t]||t}}},m=(0,n.l)(a,"default"),g=(0,n.l)(a,"getStaticProps"),p=(0,n.l)(a,"getStaticPaths"),b=(0,n.l)(a,"getServerSideProps"),y=(0,n.l)(a,"config"),j=(0,n.l)(a,"reportWebVitals"),v=(0,n.l)(a,"unstable_getStaticProps"),N=(0,n.l)(a,"unstable_getStaticPaths"),f=(0,n.l)(a,"unstable_getStaticParams"),D=(0,n.l)(a,"unstable_getServerProps"),w=(0,n.l)(a,"unstable_getServerSideProps"),S=new r.PagesRouteModule({definition:{kind:l.x.PAGES,page:"/[neighborhood]",pathname:"/[neighborhood]",bundlePath:"",filename:""},components:{App:d.default,Document:c()},userland:a})},5913:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>App});var a=s(997);function App({Component:e,pageProps:t}){return a.jsx(e,{...t})}s(6764)},6764:()=>{},2785:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},968:e=>{"use strict";e.exports=require("next/head")},6689:e=>{"use strict";e.exports=require("react")},997:e=>{"use strict";e.exports=require("react/jsx-runtime")},1017:e=>{"use strict";e.exports=require("path")}};var t=require("../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),s=t.X(0,[209,450],()=>__webpack_exec__(2481));module.exports=s})();