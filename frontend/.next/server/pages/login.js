(()=>{var e={};e.id=459,e.ids=[459,888,660],e.modules={137:(e,t,r)=>{"use strict";r.r(t),r.d(t,{config:()=>w,default:()=>y,getServerSideProps:()=>N,getStaticPaths:()=>j,getStaticProps:()=>v,reportWebVitals:()=>P,routeModule:()=>k,unstable_getServerProps:()=>O,unstable_getServerSideProps:()=>E,unstable_getStaticParams:()=>C,unstable_getStaticPaths:()=>S,unstable_getStaticProps:()=>_});var s={};r.r(s),r.d(s,{default:()=>g});var a=r(7093),n=r(5244),l=r(1323),o=r(2899),i=r.n(o),u=r(6814),c=r(997),d=r(6689),f=r(1163),m=r(1664),p=r.n(m),x=r(115),h=r(3673),b=r(6055);function g(){let e=(0,f.useRouter)(),[t,r]=(0,d.useState)({email:"",password:""}),[s,a]=(0,d.useState)(!1),[n,l]=(0,d.useState)(""),[o,i]=(0,d.useState)(!1),u=new h.El,m=e=>{let{name:t,value:s}=e.target;r(e=>({...e,[t]:s})),l("")},g=async r=>{r.preventDefault(),a(!0),l("");try{let r=await b.Z.login({email:t.email,password:t.password});r.token&&r.user?(u.login(r.token,r.user),"admin"===r.user.role?e.push("/admin"):e.push("/dashboard")):l("Login failed. Please try again.")}catch(e){l("Network error. Please check your connection and try again.")}finally{a(!1)}},y=async r=>{r.preventDefault(),a(!0),l("");try{let r=await fetch("https://auth-register.jhaladik.workers.dev",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t.email,password:t.password,neighborhood_id:"vinohrady"})}),s=await r.json();if(r.ok){let r=await b.Z.login({email:t.email,password:t.password});r.token&&r.user&&(u.login(r.token,r.user),e.push("/dashboard"))}else l(s.error||"Registration failed. Please try again.")}catch(e){l("Network error. Please check your connection and try again.")}finally{a(!1)}};return c.jsx(x.ZP,{showFooter:!1,children:(0,c.jsxs)("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[c.jsx("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:(0,c.jsxs)("div",{className:"text-center",children:[c.jsx("h1",{className:"text-4xl font-bold text-blue-600 mb-2",children:"\uD83C\uDFD9️ Praha Local News"}),c.jsx("h2",{className:"text-xl text-gray-900",children:o?"Create Your Account":"Welcome Back"}),c.jsx("p",{className:"mt-2 text-sm text-gray-600",children:o?"Join thousands of neighbors getting AI-curated local news":"Sign in to your personalized news dashboard"})]})}),(0,c.jsxs)("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:[(0,c.jsxs)("div",{className:"bg-white py-8 px-4 shadow-lg sm:rounded-lg sm:px-10 border",children:[(0,c.jsxs)("form",{onSubmit:o?y:g,className:"space-y-6",children:[(0,c.jsxs)("div",{children:[c.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),c.jsx("div",{className:"mt-1",children:c.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:t.email,onChange:m,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"your.email@example.com"})})]}),(0,c.jsxs)("div",{children:[c.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),c.jsx("div",{className:"mt-1",children:c.jsx("input",{id:"password",name:"password",type:"password",autoComplete:o?"new-password":"current-password",required:!0,value:t.password,onChange:m,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:o?"Create a strong password":"Enter your password"})})]}),n&&c.jsx("div",{className:"rounded-md bg-red-50 p-4 border border-red-200",children:(0,c.jsxs)("div",{className:"flex",children:[c.jsx("div",{className:"flex-shrink-0",children:c.jsx("span",{className:"text-red-400",children:"⚠️"})}),c.jsx("div",{className:"ml-3",children:c.jsx("h3",{className:"text-sm font-medium text-red-800",children:n})})]})}),c.jsx("div",{children:c.jsx("button",{type:"submit",disabled:s,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:s?(0,c.jsxs)("div",{className:"flex items-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),o?"Creating Account...":"Signing In..."]}):o?"Create Account":"Sign In"})})]}),(0,c.jsxs)("div",{className:"mt-6",children:[(0,c.jsxs)("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-0 flex items-center",children:c.jsx("div",{className:"w-full border-t border-gray-300"})}),c.jsx("div",{className:"relative flex justify-center text-sm",children:c.jsx("span",{className:"px-2 bg-white text-gray-500",children:o?"Already have an account?":"Don&apos;t have an account?"})})]}),c.jsx("div",{className:"mt-6",children:c.jsx("button",{type:"button",onClick:()=>{i(!o),l(""),r({email:"",password:""})},className:"w-full text-center text-sm text-blue-600 hover:text-blue-500 font-medium",children:o?"Sign in to existing account":"Create a new account"})})]}),(0,c.jsxs)("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[c.jsx("h4",{className:"text-xs font-semibold text-gray-700 mb-2",children:"Demo Credentials:"}),(0,c.jsxs)("div",{className:"text-xs text-gray-600 space-y-1",children:[(0,c.jsxs)("div",{children:[c.jsx("strong",{children:"Admin:"})," admin@praha.local / admin123"]}),(0,c.jsxs)("div",{children:[c.jsx("strong",{children:"User:"})," user@praha.local / user123"]})]})]})]}),c.jsx("div",{className:"mt-6 text-center",children:c.jsx(p(),{href:"/",className:"text-sm text-blue-600 hover:text-blue-500",children:"← Back to news feed"})})]}),(0,c.jsxs)("div",{className:"mt-12 max-w-3xl mx-auto px-4",children:[c.jsx("div",{className:"text-center mb-8",children:c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Why join Praha Local News?"})}),(0,c.jsxs)("div",{className:"grid md:grid-cols-3 gap-6",children:[(0,c.jsxs)("div",{className:"text-center",children:[c.jsx("div",{className:"text-3xl mb-3",children:"\uD83E\uDD16"}),c.jsx("h4",{className:"font-semibold text-gray-900",children:"AI-Curated"}),c.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Smart algorithms filter through hundreds of sources to bring you only relevant local news"})]}),(0,c.jsxs)("div",{className:"text-center",children:[c.jsx("div",{className:"text-3xl mb-3",children:"\uD83D\uDCCD"}),c.jsx("h4",{className:"font-semibold text-gray-900",children:"Hyperlocal"}),c.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"News specifically for your Prague neighborhood - never miss what affects you"})]}),(0,c.jsxs)("div",{className:"text-center",children:[c.jsx("div",{className:"text-3xl mb-3",children:"\uD83D\uDCE7"}),c.jsx("h4",{className:"font-semibold text-gray-900",children:"Personalized"}),c.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Daily newsletters tailored to your interests and delivery preferences"})]})]})]})]})})}let y=(0,l.l)(s,"default"),v=(0,l.l)(s,"getStaticProps"),j=(0,l.l)(s,"getStaticPaths"),N=(0,l.l)(s,"getServerSideProps"),w=(0,l.l)(s,"config"),P=(0,l.l)(s,"reportWebVitals"),_=(0,l.l)(s,"unstable_getStaticProps"),S=(0,l.l)(s,"unstable_getStaticPaths"),C=(0,l.l)(s,"unstable_getStaticParams"),O=(0,l.l)(s,"unstable_getServerProps"),E=(0,l.l)(s,"unstable_getServerSideProps"),k=new a.PagesRouteModule({definition:{kind:n.x.PAGES,page:"/login",pathname:"/login",bundlePath:"",filename:""},components:{App:u.default,Document:i()},userland:s})},6691:(e,t)=>{"use strict";var r,s;Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{ACTION_FAST_REFRESH:function(){return u},ACTION_NAVIGATE:function(){return n},ACTION_PREFETCH:function(){return i},ACTION_REFRESH:function(){return a},ACTION_RESTORE:function(){return l},ACTION_SERVER_ACTION:function(){return c},ACTION_SERVER_PATCH:function(){return o},PrefetchCacheEntryStatus:function(){return s},PrefetchKind:function(){return r},isThenable:function(){return d}});let a="refresh",n="navigate",l="restore",o="server-patch",i="prefetch",u="fast-refresh",c="server-action";function d(e){return e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof e.then}(function(e){e.AUTO="auto",e.FULL="full",e.TEMPORARY="temporary"})(r||(r={})),function(e){e.fresh="fresh",e.reusable="reusable",e.expired="expired",e.stale="stale"}(s||(s={})),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},4318:(e,t,r)=>{"use strict";function s(e,t,r,s){return!1}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getDomainLocale",{enumerable:!0,get:function(){return s}}),r(8364),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},9577:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return g}});let s=r(167),a=r(997),n=s._(r(6689)),l=r(1401),o=r(2045),i=r(7420),u=r(7201),c=r(1443),d=r(5469),f=r(7443),m=r(2905),p=r(4318),x=r(953),h=r(6691);function b(e){return"string"==typeof e?e:(0,i.formatUrl)(e)}let g=n.default.forwardRef(function(e,t){let r,s;let{href:i,as:g,children:y,prefetch:v=null,passHref:j,replace:N,shallow:w,scroll:P,locale:_,onClick:S,onMouseEnter:C,onTouchStart:O,legacyBehavior:E=!1,...k}=e;r=y,E&&("string"==typeof r||"number"==typeof r)&&(r=(0,a.jsx)("a",{children:r}));let A=n.default.useContext(d.RouterContext),T=n.default.useContext(f.AppRouterContext),R=null!=A?A:T,M=!A,D=!1!==v,I=null===v?h.PrefetchKind.AUTO:h.PrefetchKind.FULL,{href:L,as:q}=n.default.useMemo(()=>{if(!A){let e=b(i);return{href:e,as:g?b(g):e}}let[e,t]=(0,l.resolveHref)(A,i,!0);return{href:e,as:g?(0,l.resolveHref)(A,g):t||e}},[A,i,g]),F=n.default.useRef(L),U=n.default.useRef(q);E&&(s=n.default.Children.only(r));let H=E?s&&"object"==typeof s&&s.ref:t,[K,V,z]=(0,m.useIntersection)({rootMargin:"200px"}),W=n.default.useCallback(e=>{(U.current!==q||F.current!==L)&&(z(),U.current=q,F.current=L),K(e),H&&("function"==typeof H?H(e):"object"==typeof H&&(H.current=e))},[q,H,L,z,K]);n.default.useEffect(()=>{},[q,L,V,_,D,null==A?void 0:A.locale,R,M,I]);let B={ref:W,onClick(e){E||"function"!=typeof S||S(e),E&&s.props&&"function"==typeof s.props.onClick&&s.props.onClick(e),R&&!e.defaultPrevented&&function(e,t,r,s,a,l,i,u,c){let{nodeName:d}=e.currentTarget;if("A"===d.toUpperCase()&&(function(e){let t=e.currentTarget.getAttribute("target");return t&&"_self"!==t||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}(e)||!c&&!(0,o.isLocalURL)(r)))return;e.preventDefault();let f=()=>{let e=null==i||i;"beforePopState"in t?t[a?"replace":"push"](r,s,{shallow:l,locale:u,scroll:e}):t[a?"replace":"push"](s||r,{scroll:e})};c?n.default.startTransition(f):f()}(e,R,L,q,N,w,P,_,M)},onMouseEnter(e){E||"function"!=typeof C||C(e),E&&s.props&&"function"==typeof s.props.onMouseEnter&&s.props.onMouseEnter(e)},onTouchStart:function(e){E||"function"!=typeof O||O(e),E&&s.props&&"function"==typeof s.props.onTouchStart&&s.props.onTouchStart(e)}};if((0,u.isAbsoluteUrl)(q))B.href=q;else if(!E||j||"a"===s.type&&!("href"in s.props)){let e=void 0!==_?_:null==A?void 0:A.locale,t=(null==A?void 0:A.isLocaleDomain)&&(0,p.getDomainLocale)(q,e,null==A?void 0:A.locales,null==A?void 0:A.domainLocales);B.href=t||(0,x.addBasePath)((0,c.addLocale)(q,e,null==A?void 0:A.defaultLocale))}return E?n.default.cloneElement(s,B):(0,a.jsx)("a",{...k,...B,children:r})});("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},2905:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useIntersection",{enumerable:!0,get:function(){return i}});let s=r(6689),a=r(3815),n="function"==typeof IntersectionObserver,l=new Map,o=[];function i(e){let{rootRef:t,rootMargin:r,disabled:i}=e,u=i||!n,[c,d]=(0,s.useState)(!1),f=(0,s.useRef)(null),m=(0,s.useCallback)(e=>{f.current=e},[]);return(0,s.useEffect)(()=>{if(n){if(u||c)return;let e=f.current;if(e&&e.tagName)return function(e,t,r){let{id:s,observer:a,elements:n}=function(e){let t;let r={root:e.root||null,margin:e.rootMargin||""},s=o.find(e=>e.root===r.root&&e.margin===r.margin);if(s&&(t=l.get(s)))return t;let a=new Map;return t={id:r,observer:new IntersectionObserver(e=>{e.forEach(e=>{let t=a.get(e.target),r=e.isIntersecting||e.intersectionRatio>0;t&&r&&t(r)})},e),elements:a},o.push(r),l.set(r,t),t}(r);return n.set(e,t),a.observe(e),function(){if(n.delete(e),a.unobserve(e),0===n.size){a.disconnect(),l.delete(s);let e=o.findIndex(e=>e.root===s.root&&e.margin===s.margin);e>-1&&o.splice(e,1)}}}(e,e=>e&&d(e),{root:null==t?void 0:t.current,rootMargin:r})}else if(!c){let e=(0,a.requestIdleCallback)(()=>d(!0));return()=>(0,a.cancelIdleCallback)(e)}},[u,r,t,c,f.current]),[m,c,(0,s.useCallback)(()=>{d(!1)},[])]}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},7443:(e,t,r)=>{"use strict";e.exports=r(7093).vendored.contexts.AppRouterContext},1664:(e,t,r)=>{e.exports=r(9577)},2785:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},6689:e=>{"use strict";e.exports=require("react")},6405:e=>{"use strict";e.exports=require("react-dom")},997:e=>{"use strict";e.exports=require("react/jsx-runtime")},2048:e=>{"use strict";e.exports=require("fs")},5315:e=>{"use strict";e.exports=require("path")},6162:e=>{"use strict";e.exports=require("stream")},1568:e=>{"use strict";e.exports=require("zlib")}};var t=require("../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[899,342,814,115],()=>r(137));module.exports=s})();